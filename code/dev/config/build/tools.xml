<project name="tools" default="default" basedir="${basedir}/../../..">
    <property name="proxy" value="172.17.0.1:3128" />

    <target name="git-reset">
        <exec executable="git">
            <env key="http_proxy" value="${proxy}" />
            <env key="https_proxy" value="${proxy}" />
            <arg value='fetch' />
            <arg value='--all' />
            <arg value='-p' />
        </exec>
        <exec executable="git">
            <env key="http_proxy" value="${proxy}" />
            <env key="https_proxy" value="${proxy}" />
            <arg value='add' />
            <arg value='.' />
        </exec>
        <exec executable="git">
            <env key="http_proxy" value="${proxy}" />
            <env key="https_proxy" value="${proxy}" />
            <arg value='reset' />
            <arg value='--hard' />
            <arg value='origin/master' />
        </exec>
    </target>

    <target name="composer-install">
        <exec executable="composer">
            <env key="COMPOSER" value="${basedir}/config/composer/composer.json" />
            <env key="http_proxy" value="${proxy}" />
            <env key="https_proxy" value="${proxy}" />
            <arg value='install' />
        </exec>
    </target>

    <target name="composer-update">
        <exec executable="composer">
            <env key="COMPOSER" value="${basedir}/config/composer/composer.json" />
            <env key="http_proxy" value="${proxy}" />
            <env key="https_proxy" value="${proxy}" />
            <arg value='update' />
            <arg value='-vvv' />
        </exec>
    </target>

    <target name="generate-static">
        <exec executable="php" failonerror="true">
            <arg value='commands/run' />
            <arg value='generateStatic' />
            <arg value='test' />
        </exec>
    </target>

    <target name="default">
    </target>
</project>